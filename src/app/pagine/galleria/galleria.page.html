<ion-content>
  <section class="sfondo">

    <!-- Galleria -->
    <div class="container" [class.blur]="previewActive">
      <div class="titolo">Galleria Fotografica</div>

      <div *ngIf="photos.length === 0" class="alert alert-info">
        Nessuna foto salvata.
      </div>

      <div class="row">
        <div class="col-md-3 mb-3" *ngFor="let photo of photos">
          <div class="card">
            <img [src]="photo.src" class="card-img-top" alt="Foto">
            <button class="btn btn-danger mt-2" (click)="deletePhoto(photo)">Elimina</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Camera Preview centrale -->
    <div class="camera-overlay" *ngIf="previewActive">
      <video #video autoplay muted class="camera-preview"></video>
    </div>

    <!-- Barra con pulsante scatto -->
    <div class="camera-bar" *ngIf="previewActive">
      <button class="circle-button" (click)="takePhoto()">
        <div class="inner-circle"></div>
      </button>
      <button class="close-button" (click)="stopCamera()">âœ–</button>
    </div>

    <!-- Pulsante apri fotocamera se non attiva -->
    <div class="camera-launcher" *ngIf="!previewActive">
      <button class="circle-launcher" (click)="startCamera()">
        <div class="inner-circle"></div>
      </button>
    </div>


  </section>
</ion-content>
