<ion-content>
  <div class="d-flex justify-content-center">
    <h1>Fotocamera</h1>
  </div>

  <!-- Area della fotocamera (anteprima) -->
  <div class="camera-preview">
    <video #video autoplay></video>
  </div>

  <ion-button (click)="takePhoto()">Scatta Foto</ion-button>

  <!-- Mostra la foto scattata -->
  <div *ngIf="photo">
    <h3>Foto Scattata:</h3>
    <img [src]="photo" alt="Foto scattata">
  </div>

  <!-- Mostra le foto in un grid (se ci sono piÃ¹ foto) -->
  <div *ngIf="photos.length > 0">
    <ion-card class="photo-grid">
      <ion-card-content>
        <div class="row" *ngFor="let row of getCurrentPageRows()">
          <ion-card *ngFor="let photo of row" class="photo-container" (click)="zoomPhoto(photo.src)">
            <img class="foto" [src]="photo.src" alt="Photo" />
            <button class="delete-button" (click)="deletePhoto(photo); $event.stopPropagation();">
              <span class="delete-icon">&times;</span>
            </button>
          </ion-card>
        </div>
      </ion-card-content>
    </ion-card>
  </div>

  <!-- Overlay per zoom -->
  <div class="overlay" *ngIf="zoomedPhoto" (click)="closeZoom()">
    <img [src]="zoomedPhoto" alt="Zoomed Photo" class="zoomed-photo" />
  </div>
</ion-content>
