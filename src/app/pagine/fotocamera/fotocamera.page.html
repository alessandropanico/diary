<ion-content>
  <div class="d-flex justify-content-center">
    <h1>Fotocamera</h1>
  </div>

  <!-- Bottone per avviare la fotocamera -->
  <div class="d-flex justify-content-center">
    <ion-button *ngIf="!previewActive" (click)="startCamera()">Apri Fotocamera</ion-button>
  </div>

  <!-- Area della fotocamera (anteprima) -->
  <div class="camera-preview" *ngIf="previewActive">
    <video #video autoplay></video>
    <ion-button (click)="takePhoto()">Scatta Foto</ion-button>
    <ion-button color="danger" (click)="stopCamera()">Chiudi Fotocamera</ion-button>
  </div>

  <!-- Mostra tutte le foto salvate -->
  <div *ngIf="photos.length > 0">
    <h3>Galleria</h3>
    <div class="photo-grid">
      <ion-card *ngFor="let photo of photos" class="photo-container">
        <img class="foto" [src]="photo.src" alt="Photo" />
        <button class="delete-button" (click)="deletePhoto(photo)">
          <span class="delete-icon">&times;</span>
        </button>
      </ion-card>
    </div>
  </div>

  <!-- Opzione per caricare una foto dal browser -->
  <div class="d-flex justify-content-center">
    <ion-button (click)="takePhotoBrowser()">Carica Foto</ion-button>
  </div>
</ion-content>
